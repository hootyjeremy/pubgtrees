<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<style type="text/css"></style>



	<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
	<!-- font-family: 'Roboto', sans-serif; -->

	<!-- VUE Dev Version -->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" type="text/javascript"></script> 
	<!-- BUE Production Version -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js" type="text/javascript"></script> -->
	
	
	<script src="https://unpkg.com/axios/dist/axios.min.js" type="text/javascript"></script>
	<script src="https://momentjs.com/downloads/moment.min.js" type="text/javascript"></script>
	
	<!-- D3 Production Version -->
	<script src="https://d3js.org/d3.v5.min.js" type="text/javascript"></script>
	<!-- D3 Local Version -->
	<!-- <script src="d3/d3.js"></script> -->




	<script src="static/hf.js" type="text/javascript"></script>

	<link rel="stylesheet" type="text/css" href="static/style.css" />
	<script src="static/client.js" type="text/javascript">	</script>
	<!-- <link rel="stylesheet" type="text/css" href="static/minified/style.min.css" />
	<script src="static/minified/client.min.js" type="text/javascript">	</script> -->


	<link rel="shortcut icon" href="static/favicon.ico" type="image/x-icon">
	<link rel="icon" href="static/favicon.ico" type="image/x-icon">


	<title>PUBG Trees</title>

</head>


<header class='page-header'>
	<br>
	
	<a href='https://hooty-pubg01.herokuapp.com'>PUBG Trees : ver.0.012</a>
	
	<br>
	<br>
</header>

<body>



<!--
    font-family: 'Roboto Condensed', Calibri, sans-serif;
    font-size: 14px;

	div {
	border:1px; 
	border-color:#d0d0d0; 
	border-style:solid;
}
-->




<div id='search-div'>

	<br>
	<br>


	<!--
	<input type="radio" name="platform" id="rdoSteam" value="steam" checked>Steam
	<input type="radio" name="platform" id="rdoPS4" value="psn">PS4
	<input type="radio" name="platform" id="rdoXbox" value="xbox">Xbox
	<input type="radio" name="platform" id="rdoConsole" value="console">Console
	<br>
	<br>
	-->

	<select id="slcPlatform" style='width: 100;'>
		<option value="psn">PS4</option>>
		<option value="stadia">Stadia</option>>
		<option value="steam" selected="selected">Steam (PC)</option>
		<option value="tournament">Tournament</option>>
		<option value="xbox">Xbox</option>>
	</select>
	
	<input  id="inputPlayerName" placeholder="Player name (add '!' to end of name to bypass cache)" style='width: 320;'>
	<button id="btnSearchPlayer" style='width: 100;'>Search</button>
	
	<br>
	<br>
	<br>
	
</div>




<div id="fetching" style="display:none;">
	<br>
	fetching...
</div>




<div id='vueapp' style="display:none;">
	<br>

	<center>

	<table>
		<thead>
			<tr>
				<th>Age</th>
				<th>Map</th>
				<th>Humans</th>
				<th>Type</th>
				<th>Mode</th>
				<th>Place</th>
				<th style="padding: 4px;">Dmg</th>
				<th style="padding: 4px;">Kills</th>
				<th style="padding: 4px;">Knocks</th>
				<th>Teammates</th>
				<!-- <th>Inspect</th> -->
			</tr>
		</thead>
		<tbody>
			<tr class='matchRow'
				v-for='(match, index) in match_data' :match_prop='match' :key='match.matchId' :id="'matchRow' + index"
				v-on:click="analyzeMatch(match.matchId, index)"
			> 					
				<td style="border-radius: 6px 0px 0px 6px; text-align:center; width: 80px;">{{match.timeSinceMatch}}</td> 
				<td style="text-align:left; width: 60px">{{match.mapName.toUpperCase()}}</td>
				<td style="text-align:center; width: 50px">{{match.participantCount}}</td>
				<td style="text-align:center; width: 80px">{{resolveMatchType(match.matchType)}}</td>
				<td style="text-align:center; width: 80px">{{match.gameMode.toUpperCase()}}</td> 
				<td style="text-align:center; width: 50px">#{{match.winPlace}}</td> 

				<td style="text-align:center; width: 50px">{{match.damageDealt}}</td> 
				<td style="text-align:center; width: 50px">{{match.kills}}</td> 
				<td style="text-align:center; width: 50px">{{resolveKnocks(match.gameMode, match.DBNOs)}}</td> 

				<td style="text-align:left; border-radius: 0px 6px 6px 0px; text-align:left; padding-right: 14px;">{{printRoster(match.teamRoster, match.strPlayerName)}}</td>
				<!-- <td style="border-radius: 0px 6px 6px 0px; text-align:left;"> 
					<button v-on:click="analyzeMatch(match.matchId, index)"
							style='width: 60; margin-left: 10; margin-right: 10'>View</button> 
				</td> -->
			</tr>
		</tbody>
	</table>

	<br>

	<table>
		<tr> 
			<td><button id="btnPreviousMatches" style="display:none; width: 160; margin-right: 10;">Previous matches</button></td> 
			<td><button id="btnNextMatches"     style="display:none; width: 160; margin-left:  10;">Next matches</button></td>  
		</tr>
	</table>
	<br>

	</center>
</div>


<div id='div-analyzing' style='display: none'>
	<br>
	analyzing...
</div>



<!-- <div id='d3-tree01' style='display: none; height: 800; width: 1240; overflow: auto'>
	<svg id='d3-svg01' style='height: 2000; width:3000; overflow: auto;'></svg>
</div> -->
<div id='d3-tree01' style='display: none; width: auto; overflow: auto;'>
	<center>


		<br>
		<table>
		<tr class='matchRow' style="cursor: auto;"> 
			<td style="border-radius: 6px 0px 0px 6px; text-align:center; width: 80px;">{{createdAt}}</td>
			<td>{{mapName}}</td>
			<td>{{gameMode}} </td>
			<td style="border-radius: 0px 6px 6px 0px; padding-right: 14px;">{{matchType}}</td> 
		</tr>
		</table>



		<div id='div-d3-tree' style="overflow: auto;">
			<svg id='d3-svg01'></svg>
		</div>

		<div id='div-cycle-footnote'>
			<span>** Cycled kills occur if two players kill each other. If they kill each other, they are removed 
				from the normal flow of kills since they derive from each other and that is a loop, not a branch.</span>
			<br>
		</div>

		<br>

		<div style='text-align: left;
					width: 300px; 
					background-color: #343434; 
					border-radius: 10px; 
					padding-left: 10px;
					padding-right: 10px;'>
			<table style='padding-left: 10px; padding-right: 10px; padding-top: 8px; padding-bottom: 8px;
							font-family:Roboto Condensed;
    						font-size: 14px;
    						font-weight: bold;'>
				<tr> <td><span class="selectedPlayer">Selected player</span></td> 		<td><span class="killer">Player's killer</span></td>  </tr>
				<tr> <td style="width: 120px;"><span class="playerTeammate">Player's teammates</span></td> 	<td style="width: 120px;"><span class="killerTeammate">Killer's teammates</span></td>  </tr>
				<tr> <td><span class="humanPlayers">Human players</span></td> 			<td><span class="botPlayers">Bot players</span></td>  </tr>
				<tr> <td><span class="winner">Surviving winners</span></td>				<td><span class="searchedPlayer">Searched player</span></td> </tr>
			</table>
		</div>

		<br>
		<br>
		<button id="btnCopyMatchURL" style='width: 120;'>Copy match URL</button>
		<br>
		<br>


	</center>
</div>


<br>


<div id='div-modal'>
	<div id='player-report'>
		<span id='btnCloseModal'>&times;</span>
		<br>
		<h1><span class='selectedPlayer'>{{selectedPlayer}}</span></h1>

		<br>
		Placement: #{{winPlace}} | Time survived: {{timeSurvived}}
		<br>
		Kills: {{kills}} | Knocks: {{DBNOs}} | Damage: {{damageDealt}}
		<br>
		<br>


		<table>
			<thead>

			</thead>


			<tbody>

			</tbody>
		</table>
	</div>

</div>






<!-- <script src="static/minified/vuestuff.min.js" type="text/javascript"></script> -->
<script src="static/vuestuff.js" type="text/javascript"></script>


</body>




</html>