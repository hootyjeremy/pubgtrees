<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<style type="text/css"></style>



	<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
	<!-- font-family: 'Roboto', sans-serif; -->

	<!-- VUE Dev Version -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" type="text/javascript"></script>  -->
	<!-- BUE Production Version -->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js" type="text/javascript"></script>
	
	
	<script src="https://unpkg.com/axios/dist/axios.min.js" type="text/javascript"></script>
	<script src="https://momentjs.com/downloads/moment.min.js" type="text/javascript"></script>
	
	<!-- D3 Production Version -->
	<script src="https://d3js.org/d3.v5.min.js" type="text/javascript"></script>
	<!-- D3 Local Version -->
	<!-- <script src="d3/d3.js"></script> -->




	<script src="static/hf.js" type="text/javascript"></script>

	<link rel="stylesheet" type="text/css" href="static/style.css" />
	<script src="static/client.js" type="text/javascript">	</script>
	<!-- <link rel="stylesheet" type="text/css" href="static/minified/style.min.css" />
	<script src="static/minified/client.min.js" type="text/javascript">	</script> -->


	<link rel="shortcut icon" href="static/favicon.ico" type="image/x-icon">
	<link rel="icon" href="static/favicon.ico" type="image/x-icon">

</head>



<body>
<title>PUBG Trees</title>



<!--
    font-family: 'Roboto Condensed', Calibri, sans-serif;
    font-size: 14px;

	div {
	border:1px; 
	border-color:#d0d0d0; 
	border-style:solid;
}
-->



<br>

<div id='search-div'>

	<br>
	<br>


	<!--
	<input type="radio" name="platform" id="rdoSteam" value="steam" checked>Steam
	<input type="radio" name="platform" id="rdoPS4" value="psn">PS4
	<input type="radio" name="platform" id="rdoXbox" value="xbox">Xbox
	<input type="radio" name="platform" id="rdoConsole" value="console">Console
	<br>
	<br>
	-->

	<select id="slcPlatform" style='width: 100;'>
		<option value="psn">PS4</option>>
		<option value="stadia">Stadia</option>>
		<option value="steam" selected="selected">Steam (PC)</option>
		<option value="tournament">Tournament</option>>
		<option value="xbox">Xbox</option>>
	</select>
	
	<input  id="inputPlayerName" placeholder="Player name (add '!' to end of name to bypass cache)" style='width: 320;' onsubmit="btnSearchPlayer_Click()">
	<button id="btnSearchPlayer" style='width: 100;' onclick="btnSearchPlayer_Click()">Search</button>
	
	<br>
	<br>
	PUBG Trees (beta : 2020.07.07 _ 001)
	<br>
	<br>
	
</div>


<br>
<br>


<div id="fetching" style="display:none;">
	fetching...
</div>



<script>
	// Trigger search button click on hitting ENTER in the input text box...

	// https://stackoverflow.com/questions/155188/trigger-a-button-click-with-javascript-on-the-enter-key-in-a-text-box?rq=1

	document.getElementById("inputPlayerName").addEventListener("keyup", function (event) {
		event.preventDefault();
		if (event.keyCode === 13) {
			document.getElementById("btnSearchPlayer").click();
		}
	});	


	window.addEventListener('load', (event) => {
		//console.log('page is fully loaded');
		document.getElementById('inputPlayerName').value = defaultPlayer;
	});
</script>



<div id='vueapp' style="display:none;">
	<br>

	<center>

	<table>
		<thead>
			<tr>
				<th>Age</th>
				<th>Map</th>
				<th>Humans</th>
				<th>Type</th>
				<th>Mode</th>
				<th>Place</th>
				<th style="padding: 4px;">Dmg</th>
				<th style="padding: 4px;">Kills</th>
				<th style="padding: 4px;">Knocks</th>
				<th>Teammates</th>
				<th>Inspect</th>
			</tr>
		</thead>
		<tbody>
			<tr class='matchRows'
				v-for='(match) in match_data' :match_prop='match' :key='match.matchID'
			> 					
				<td style="border-radius: 6px 0px 0px 6px; text-align:center; width: 80px;">{{match.timeSinceMatch}}</td> 
				<td style="text-align:left; width: 60px">{{match.mapName}}</td>
				<td style="text-align:center; width: 50px">{{match.participantCount}}</td>
				<td style="text-align:center; width: 80px">{{resolveMatchType(match.matchType)}}</td>
				<td style="text-align:center; width: 80px">{{match.gameMode}}</td> 
				<td style="text-align:center; width: 50px">#{{match.winPlace}}</td> 

				<td style="text-align:center; width: 50px">{{match.damageDealt}}</td> 
				<td style="text-align:center; width: 50px">{{match.kills}}</td> 
				<td style="text-align:center; width: 50px">{{resolveKnocks(match.gameMode, match.DBNOs)}}</td> 

				<td style="text-align:left;">{{printRoster(match.teamRoster, match.strPlayerName)}}</td>
				<td style="border-radius: 0px 6px 6px 0px; text-align:left;"> 
					<button v-on:click="analyzeMatch(match.matchID, resolveMatchType(match.matchType), match.mapName, match.gameMode, match.timeSinceMatch, match.participantCount)" 
							style='width: 60; margin-left: 10; margin-right: 10'>View</button> 
				</td>
			</tr>
		</tbody>
	</table>

	<br>

	<table>
		<tr> 
			<td><button id="btnPreviousMatches" onclick="btnPrevious_Click()" style="display:none; width: 160; margin-right: 10;">Previous matches</button></td> 
			<td><button id="btnNextMatches"     onclick="btnNext_Click()"     style="display:none; width: 160; margin-left: 10;">Next matches</button></td>  
		</tr>
	</table>
	<br>

	</center>
</div>

<br>

<div id='div-analyzing' style='display: none'>analyzing...</div>
<br>


<!-- <div id='d3-tree01' style='display: none; height: 800; width: 1240; overflow: auto'>
	<svg id='d3-svg01' style='height: 2000; width:3000; overflow: auto;'></svg>
</div> -->
<div id='d3-tree01' style='display: none; width: auto; overflow: auto;'>
	<center>

		<br>

		<table>
			<thead>
				<tr>  
					<!-- <td style="border-radius: 6px 0px 0px 6px; text-align:center; width: 80px;">Age</td> 
					<td>Map</td>
					<td>Humans</td>
					<td>Game Type</td>
					<td style="border-radius: 0px 6px 6px 0px; text-align:left;">Mode</td> -->
				</tr>
			</thead>
			<tbody>
				<tr class='treeRows'> 
					<td style="border-radius: 6px 0px 0px 6px; text-align:center; width: 80px;">{{age}}</td> 
					<td>{{mapName}}</td> 
					<td >{{gameMode}}</td>
					<td>{{matchType}}</td> 
					<td style="border-radius: 0px 6px 6px 0px; text-align:left;">{{humans}} humans</td>
					<!-- <td>{{matchId}}</td>  -->
					</tr>
			</tbody>
		</table>


		<svg id='d3-svg01' style='overflow: auto;'></svg>

		<br>

		<div style='text-align: left; width: 240px; border: 2px solid #60b6f0; border-radius: 10px; padding-left: 10px; background-color: #313135;'>
			<br>
			<span class="winner">Winners</span>
			<br>
			<span class="searchedPlayer">Searched player</span>
			<br>
			<span class="selectedPlayer">Selected player and teammates</span>
			<!-- <br>
			<span class="selectedPlayer">Player's teammates</span> -->
			<br>
			<span class="killer">Selected player's killer</span>
			<br>
			<span class="killerTeammate">Killer's teammates</span>
			<br>
			<span class="botPlayers">Bot players</span>
			<br>
			<br>
		</div>

		<br>
	
	</center>
</div>

<br>






<!-- <script src="static/minified/vuestuff.min.js" type="text/javascript"></script> -->
<script src="static/vuestuff.js" type="text/javascript"></script>


</body>

</html>