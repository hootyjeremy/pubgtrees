<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<style type="text/css"></style>
	<link rel="stylesheet" type="text/css" href="static/style.css" />
</head>

<link href="https://fonts.googleapis.com/css2?family=Open+Sans+Condensed:wght@300&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet">

<!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> Dev Version -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script> <!-- Dev Version -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://momentjs.com/downloads/moment.min.js"></script>
<script src="static/hf.js" type="text/javascript"></script>


<body>
<title>pubg match test</title>



<!--
    font-family: 'Roboto Condensed', Calibri, sans-serif;
    font-size: 14px;

	div {
	border:1px; 
	border-color:#d0d0d0; 
	border-style:solid;
}
-->





<center>
<br>
<br>


<!--
<input type="radio" name="platform" id="rdoSteam" value="steam" checked>Steam
<input type="radio" name="platform" id="rdoPS4" value="psn">PS4
<input type="radio" name="platform" id="rdoXbox" value="xbox">Xbox
<input type="radio" name="platform" id="rdoConsole" value="console">Console
<br>
<br>
-->


<select id="slcPlatform">
	<option value="psn">PS4</option>>
	<option value="stadia">Stadia</option>>
	<option value="steam" selected="selected">Steam (PC)</option>
	<option value="tournament">Tournament</option>>
	<option value="xbox">Xbox</option>>
</select>

<input  id="inputPlayerName" placeholder="Player name" onsubmit="btnSearchPlayer_Click()">
<button id="btnSearchPlayer" onclick="btnSearchPlayer_Click()">Search</button>
<br><br>

<div id="fetching" style="display:none;">
	fetching...
</div>

<br>
<table>
	<tr> 
		<td><button id="btnPreviousMatches" onclick="btnPrevious_Click()" style="display:none;">Previous 10 Matches</button></td> 
		<td><button id="btnNextMatches"     onclick="btnNext_Click()"     style="display:none;">Next 10 Matches</button></td>  
	</tr>
</table>


<script>
	// Trigger search button click on hitting ENTER in the input text box...

	// https://stackoverflow.com/questions/155188/trigger-a-button-click-with-javascript-on-the-enter-key-in-a-text-box?rq=1

	document.getElementById("inputPlayerName").addEventListener("keyup", function (event) {
		event.preventDefault();
		if (event.keyCode === 13) {
			document.getElementById("btnSearchPlayer").click();
		}
	});	


	window.addEventListener('load', (event) => {
		//console.log('page is fully loaded');
		document.getElementById('inputPlayerName').value = defaultPlayer;
	});
</script>


<script src="static/client.js" 	type="text/javascript">	</script>

<div id='vueapp' style="display:none;">
	<br>

	<table>
		<thead>
			<tr>
				<th>Age</th>
				<th>Map</th>
				<th>Humans</th>
				<th>Type</th>
				<th>Mode</th>
				<th>Place</th>
				<th style="padding: 4px;">Dmg</th>
				<th style="padding: 4px;">Kills</th>
				<th style="padding: 4px;">Knocks</th>
				<th>Teammates</th>
				<th>Inspect</th>
			</tr>
		</thead>
		<tbody>
			<tr style="border:1px; border-color:#303030; outline: thin solid"
			  	v-for='match in match_data' :match_prop='match' :key='match.matchID'
			> 					
				<td style="padding: 4px; text-align:left;">{{match.timeSinceMatch}}</td> 
				<td style="padding: 4px; text-align:left;">{{match.mapName}}</td>
				<td style="padding: 4px; text-align:center;">{{match.participantCount}}</td>
				<td style="padding: 4px; text-align:center;">{{resolveMatchType(match.matchType)}}</td>
				<td style="padding: 4px; text-align:left;">{{match.gameMode}}</td> 
				<td style="padding: 4px; text-align:center;">#{{match.winPlace}}</td> 

				<td style="padding: 4px; text-align:center;">{{match.damageDealt}}</td> 
				<td style="padding: 4px; text-align:center;">{{match.kills}}</td> 
				<td style="padding: 4px; text-align:center;">{{resolveKnocks(match.gameMode, match.DBNOs)}}</td> 

				<td style="padding: 4px; text-align:left;">{{printRoster(match.teamRoster, match.strPlayerName)}}</td>
				<td style="padding: 4px; text-align:left;"> <button v-on:click="analyzeMatch(match.matchID)">View</button> </td>
			</tr>
		</tbody>
	</table>

	<br>
</div>

<br>

<div id='div-analyzing' style='display: none'>analyzing...</div>
<br>

<div id='d3-tree01' style='display: none'>
	<svg id='d3-svg01'></svg>
</div>





<script src="https://d3js.org/d3.v5.min.js"></script>

<script src="static/vuestuff.js" type="text/javascript"></script>







</center>
</body>

</html>